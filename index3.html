<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
    <meta name="description" content="Criar lista de tarefas">
    <link rel='stylesheet' href="style.css" type='text/css'>
    <title>Lista de Tarefas</title>
  <style>
    
  </style>
</head>
<body>
  <div class="container">
    <h1>📋 Lista de Tarefas</h1>

    <div class="input-group">
      <input type="text" id="novaTarefa" placeholder="Digite uma nova tarefa...">
      <button onclick="adicionarTarefa()">➕</button>
    </div>

    <div class="filtros">
      <button onclick="setFiltro('todas')" id="filtro-todas" class="ativo">Todas</button>
      <button onclick="setFiltro('pendente')" id="filtro-pendente">Pendentes</button>
      <button onclick="setFiltro('concluída')" id="filtro-concluída">Concluídas</button>
    </div>

    <ul id="listaTarefas"></ul>
  </div>

  <script>
    let tarefas = [];
    let filtroAtual = "todas";

    // Carregar tarefas do localStorage ao iniciar
    window.onload = () => {
      const tarefasSalvas = localStorage.getItem("tarefas");
      if (tarefasSalvas) {
        tarefas = JSON.parse(tarefasSalvas);
      }
      atualizarLista();
    }

    function salvarNoLocalStorage() {
      localStorage.setItem("tarefas", JSON.stringify(tarefas));
    }

    function adicionarTarefa() {
      const input = document.getElementById('novaTarefa');
      const nome = input.value.trim();

      if (nome === "") {
        alert("Por favor, digite o nome da tarefa.");
        return;
      }

      const tarefa = {
        id: Date.now(),
        nome: nome,
        status: "pendente"
      };

      tarefas.push(tarefa);
      input.value = "";
      salvarNoLocalStorage();
      atualizarLista();
    }

    function editarNome(id) {
      const novaDescricao = prompt("Digite o novo nome da tarefa:");
      if (!novaDescricao) return;

      const tarefa = tarefas.find(t => t.id === id);
      if (tarefa) {
        tarefa.nome = novaDescricao;
        salvarNoLocalStorage();
        atualizarLista();
      }
    }

    function alternarStatus(id) {
      const tarefa = tarefas.find(t => t.id === id);
      if (tarefa) {
        tarefa.status = tarefa.status === "pendente" ? "concluída" : "pendente";
        salvarNoLocalStorage();
        atualizarLista();
      }
    }

    function removerTarefa(id) {
      if (confirm("Tem certeza que deseja remover esta tarefa?")) {
        tarefas = tarefas.filter(t => t.id !== id);
        salvarNoLocalStorage();
        atualizarLista();
      }
    }

    function atualizarLista() {
      const lista = document.getElementById('listaTarefas');
      lista.innerHTML = "";

      let tarefasFiltradas = tarefas;
      if (filtroAtual !== "todas") {
        tarefasFiltradas = tarefas.filter(t => t.status === filtroAtual);
      }

      if (tarefasFiltradas.length === 0) {
        lista.innerHTML = "<li><em>Nenhuma tarefa encontrada.</em></li>";
        return;
      }

      tarefasFiltradas.forEach(tarefa => {
        const li = document.createElement('li');

        const span = document.createElement('span');
        span.className = "tarefa-texto" + (tarefa.status === "concluída" ? " concluida" : "");
        span.textContent = `${tarefa.nome} — ${tarefa.status}`;

        const divBotoes = document.createElement('div');
        divBotoes.className = "botoes";

        const btnEditar = document.createElement('button');
        btnEditar.textContent = "✏️ Editar";
        btnEditar.className = "editar";
        btnEditar.onclick = () => editarNome(tarefa.id);

        const btnStatus = document.createElement('button');
        btnStatus.textContent = "🔄 Status";
        btnStatus.className = "status";
        btnStatus.onclick = () => alternarStatus(tarefa.id);

        const btnRemover = document.createElement('button');
        btnRemover.textContent = "🗑️ Remover";
        btnRemover.className = "remover";
        btnRemover.onclick = () => removerTarefa(tarefa.id);

        divBotoes.appendChild(btnEditar);
        divBotoes.appendChild(btnStatus);
        divBotoes.appendChild(btnRemover);

        li.appendChild(span);
        li.appendChild(divBotoes);

        lista.appendChild(li);
      });
    }

    function setFiltro(novoFiltro) {
      filtroAtual = novoFiltro;
      document.querySelectorAll('.filtros button').forEach(btn => btn.classList.remove('ativo'));
      document.getElementById('filtro-' + novoFiltro).classList.add('ativo');
      atualizarLista();
    }
  </script>
</body>
</html>
